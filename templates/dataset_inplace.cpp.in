// SPDX-License-Identifier: GPL-3.0-or-later
// Copyright (c) 2021 Scipp contributors (https://github.com/scipp)
/// @file
/// @author Simon Heybrock
#include "scipp/dataset/@OPNAME@.h"

#include "dataset_operations_common.h"

namespace scipp::variable {
[[maybe_unused]] Variable &@NAME@(Variable &var, const Variable &other);
[[maybe_unused]] Variable @NAME@(Variable &&var, const Variable &other);
}

namespace scipp::dataset {

DataArray &@NAME@(DataArray &lhs, const Variable &rhs) {
  @NAME@(lhs.data(), rhs);
  return lhs;
}
DataArray &@NAME@(DataArray &lhs, const DataArray &rhs) {
  expect::coordsAreSuperset(lhs, rhs);
  union_or_in_place(lhs.masks(), rhs.masks());
  @NAME@(lhs.data(), rhs.data());
  return lhs;
}
DataArray @NAME@(DataArray &&lhs, const Variable &rhs) {
  @NAME@(lhs.data(), rhs);
  return std::move(lhs);
}
DataArray @NAME@(DataArray &&lhs, const DataArray &rhs) {
  expect::coordsAreSuperset(lhs, rhs);
  union_or_in_place(lhs.masks(), rhs.masks());
  return @NAME@(lhs, rhs.data());
}

} // namespace scipp::dataset
